"use strict";var list,mlist;function doinput(i,e){list=document.querySelectorAll(e),mlist=$(e);for(var t=function(n){$(mlist[n]).prop("checked")?$(i).prop({checked:!0}):$(i).prop({checked:!1}),list[n].onclick=function(){$(mlist[n]).prop("checked")?($(mlist[n]).prop({checked:!0}),n%2==0?(n++,$(mlist[n]).prop({checked:!0}),n--):(n-=1,$(mlist[n]).prop({checked:!0}),n++)):($(mlist[n]).prop({checked:!1}),n%2==0?(n+=1,$(mlist[n]).prop({checked:!1}),n--):(n-=1,$(mlist[n]).prop({checked:!1}),n++));for(var e=jQuery.parseJSON(showlist()).datalist.length,t=0;t<2*e;t++)$(mlist[t]).prop("checked")?$(i).prop({checked:!0}):$(i).prop({checked:!1});taketotalcost()},r=n},r=0;r<list.length;r++)t(r)}function taketotalcost(){for(var e=0,t=0,n=0;n<list.length;n++)$(mlist[n]).prop("checked")?n%2!=0&&(e+=Number(list[n].parentNode.children[7].innerText),$(".mpaycost span:nth-of-type(2)")[0].innerText=e):++t==list.length&&($(".mpaycost span:nth-of-type(2)")[0].innerText=0)}var count=0,price=0,a="";function countchange(r,l,e){for(var t=document.querySelectorAll(e),n=0;n<t.length;n++)t[n].onclick=function(e){var t=e||event,n=t.target||t.srcElement;if(n.className==r&&(price=Number(n.parentNode.parentNode.children[4].innerText),a=n.nextElementSibling.innerText,1==(count=1*a)?count=1:count--,n.parentNode.nextElementSibling.nextElementSibling.innerText=price*count,n.nextElementSibling.innerText=count,taketotalcost()),n.className==l&&(a=n.parentNode.children[1].innerText,price=Number(n.parentNode.nextElementSibling.nextElementSibling.innerText),price/=count=1*a,count++,n.parentNode.children[1].innerText=count,n.parentNode.nextElementSibling.nextElementSibling.innerText=price*count,taketotalcost()),"删除"==n.innerHTML){var i=n.nextElementSibling.nextElementSibling.innerText;console.log(i),deldata(i),n.parentNode.parentNode.parentNode.parentNode.removeChild(n.parentNode.parentNode.parentNode),console.log(jQuery.parseJSON(showlist()).datalist[0]),null==jQuery.parseJSON(showlist()).datalist[0]&&($(".mcontent2")[0].style="display:none",$(".mcontent3")[0].style="display:none",$(".shopnull")[0].style="display: block")}}}function init(e){var t=$(".mulxq li").eq(0).clone();t[0].style="",t.prependTo($(".mulxq")),$(".mlistdetail img")[0].src=e.wb_img,$(".mstorename")[0].innerText=e.wb_name,$(".mxq span:nth-of-type(1)")[0].innerText=e.wb_detail,$(".mxq span:nth-of-type(2)")[0].innerText=e.wb_caizhi,$(".cost")[0].innerText=e.wb_price,$(".cost2")[0].innerText=e.wb_price*e.wb_num,$(".maddspan2")[0].innerText=e.wb_num,$(".msetid")[0].innerText=e.wb_id}function array_diff(e,t){for(var n=0;n<t.length;n++)for(var i=0;i<e.length;i++)e[i].wb_id==t[n].wb_id&&(t[n].wb_num+=e[i].wb_num,e.splice(i,1),i-=1);return t.concat(e)}